{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a2414dcf_f1f22f6a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "```suggestion\nHandle null putValue in global refdb comparison\n```",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 7,
        "endChar": 48
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a56e174_4ff82d96",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T16:59:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a2414dcf_f1f22f6a",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 7,
        "endChar": 48
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20656528_37111ac4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 10,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "```suggestion\nPreviously, it was assumed that, upon ref deletion, a `refPair.putValue` would default to the zero object ID when null, but this was not the case. Even\n```",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "498eb68c_d82dcf2f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 10,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T16:59:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "20656528_37111ac4",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22b26bff_a9baa8f9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "This is up to the implementation flavour, for example _zookeeper_ deals with this, not the global-refdb per-se.",
      "range": {
        "startLine": 10,
        "startChar": 53,
        "endLine": 11,
        "endChar": 59
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3f915bc_1c13871e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T17:03:52Z",
      "side": 1,
      "message": "but the global-refdb per-se still does the check if it\u0027s null or not no? I think this part is still valid.",
      "parentUuid": "22b26bff_a9baa8f9",
      "range": {
        "startLine": 10,
        "startChar": 53,
        "endLine": 11,
        "endChar": 59
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0c108303_b2a557f3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "```suggestion\nEnsure that the sentinel expands a null ref.putValue to all 0 so that\n```",
      "range": {
        "startLine": 14,
        "startChar": 16,
        "endLine": 14,
        "endChar": 23
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02b1bf44_8e1e9998",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "```suggestion\nEnsure that the sentile expands a null refPair.putValue to the Zero object ID so that\n```",
      "range": {
        "startLine": 14,
        "startChar": 39,
        "endLine": 14,
        "endChar": 42
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7497593e_c7560375",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T16:59:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0c108303_b2a557f3",
      "range": {
        "startLine": 14,
        "startChar": 16,
        "endLine": 14,
        "endChar": 23
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "45115eaa_be888535",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T16:59:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "02b1bf44_8e1e9998",
      "range": {
        "startLine": 14,
        "startChar": 39,
        "endLine": 14,
        "endChar": 42
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f1d823e_34a7445e",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2025-07-08T18:39:58Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cfa29b60_f374052a",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2025-07-08T18:39:58Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d43da340_04f92172",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2025-07-08T18:43:32Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4fc0ffc3_e1d305f7",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1022687
      },
      "writtenOn": "2025-07-08T18:46:33Z",
      "side": 1,
      "message": "Needs reformatting with GJF",
      "tag": "autogenerated:jenkins",
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34f46742_acbe1a3f",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 229,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "This is not the `globalRefDbObjectId` (yet). This is the value that we want to update the ref to. How about a different name, such as `newValue` or `candidateValue` or something along those lines?",
      "range": {
        "startLine": 229,
        "startChar": 17,
        "endLine": 229,
        "endChar": 36
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "40672367_a0dfceb7",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 229,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T17:03:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "34f46742_acbe1a3f",
      "range": {
        "startLine": 229,
        "startChar": 17,
        "endLine": 229,
        "endChar": 36
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb42bbb2_c4bcbeee",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 231,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "nit: the `zeroId` normalization is the same at L225-228 and 229-231. Perhaps you could DRY this out?",
      "range": {
        "startLine": 229,
        "startChar": 8,
        "endLine": 231,
        "endChar": 43
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0617f03_6dd9155d",
        "filename": "src/main/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidator.java",
        "patchSetId": 4
      },
      "lineNbr": 231,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T17:03:52Z",
      "side": 1,
      "message": "Not quite, there is that `map(Ref::getObjectId)` that made me wonder if it\u0027s worth actually DRY-ing this or not. For now I\u0027m thinking not, wdyt?",
      "parentUuid": "bb42bbb2_c4bcbeee",
      "range": {
        "startLine": 229,
        "startChar": 8,
        "endLine": 231,
        "endChar": 43
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42da8319_6e881b1d",
        "filename": "src/test/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidatorTest.java",
        "patchSetId": 4
      },
      "lineNbr": 281,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-07-08T16:40:55Z",
      "side": 1,
      "message": "```suggestion\n  public void shouldHandleDeletedRefsWhenExecutingRefUpdate() throws Exception {\n```",
      "range": {
        "startLine": 281,
        "startChar": 26,
        "endLine": 281,
        "endChar": 50
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6648212_94b41f73",
        "filename": "src/test/java/com/gerritforge/gerrit/globalrefdb/validation/RefUpdateValidatorTest.java",
        "patchSetId": 4
      },
      "lineNbr": 281,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2025-07-08T16:59:36Z",
      "side": 1,
      "message": "Fix applied.",
      "parentUuid": "42da8319_6e881b1d",
      "range": {
        "startLine": 281,
        "startChar": 26,
        "endLine": 281,
        "endChar": 50
      },
      "revId": "9ab5deb2a13bbd1041e0d271cbe98202feac1e9d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}